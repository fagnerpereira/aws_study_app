<%= turbo_frame_tag "user_stats" do %>
  <div class="flex items-center space-x-4">
    <% if logged_in? %>
      <!-- User Stats -->
      <div class="flex items-center space-x-4">
        <!-- Streak Counter -->
        <div class="flex items-center bg-orange-50 text-orange-700 px-3 py-2 rounded-lg border border-orange-200">
          <span class="text-lg mr-2">üî•</span>
          <div class="text-sm">
            <span class="font-semibold"><%= current_user.current_streak %></span>
            <span class="text-orange-600">day streak</span>
          </div>
        </div>

        <!-- Level -->
        <div class="flex items-center bg-blue-50 text-blue-700 px-3 py-2 rounded-lg border border-blue-200">
          <span class="text-lg mr-2">‚≠ê</span>
          <div class="text-sm">
            <span class="font-semibold">Level <%= current_user.level %></span>
          </div>
        </div>
      </div>

      <!-- User Menu -->
      <div class="flex items-center space-x-3">
        <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center font-semibold text-white text-sm">
          <%= current_user.name.first.upcase %>
        </div>
        <div class="hidden sm:block">
          <div class="text-sm font-medium text-gray-900"><%= current_user.name %></div>
          <div class="text-xs flex items-center">
            <%= link_to "Profile", profile_path, class: "text-blue-600 hover:text-blue-700" %>
            <span class="mx-1 text-gray-400"> ‚Ä¢ </span>
            <%= button_to "Logout", logout_path, method: :delete, class: "text-gray-500 hover:text-red-600", form_class: "inline" %>
          </div>
        </div>
      </div>
    <% else %>
      <!-- Guest Actions -->
      <div class="flex space-x-3">
        <%= link_to login_path, class: "border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors duration-200 text-sm font-medium" do %>
          Sign In
        <% end %>
        <%= link_to signup_path, class: "bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium" do %>
          Start Learning
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>